package mainPackage;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.Image;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;
import javax.imageio.ImageIO;
import javax.swing.*;

import inputs.KeyboardInputs;

public class SimWindow {
	
	// ------------------------------------- Main Window Stuff -------------------------------------
	
	private int mainWidth = 500;
	private int mainHeight = 500;
	
	private JFrame mainFrame;	
	JLayeredPane layeredPane = new JLayeredPane();
	
	KeyboardInputs keyboardInputs;

	// ------------------------------------- Images -------------------------------------
	

	int loginBgWidth = 400;  // Adjust background width
	int loginBgHeight = 400; // Adjust background height

	ImageIcon mainBgIcon = new ImageIcon(
	        new ImageIcon(new File("src/UI/horizon.png").getAbsolutePath())
	                .getImage().getScaledInstance(mainWidth, mainHeight, Image.SCALE_SMOOTH));
	JLabel horizonLabel = new JLabel(mainBgIcon);

	ImageIcon loginBgIcon = new ImageIcon(
	        new ImageIcon(new File("src/UI/horizon.png").getAbsolutePath())
	                .getImage().getScaledInstance(loginBgWidth, loginBgHeight, Image.SCALE_SMOOTH));
	JLabel loginBackgroundLabel = new JLabel(loginBgIcon);
	
	ImageIcon rocketIcon = new ImageIcon(new File("src/UI/rocket.png").getAbsolutePath());


	
	

	// ------------------------------------- Main Window -------------------------------------

	
	public void openSimWindow() throws IOException {
		
		keyboardInputs = new KeyboardInputs(this);
		
		mainFrame = new JFrame();
		mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		mainFrame.setSize(mainWidth,mainHeight);
		mainFrame.setLocationRelativeTo(null);
		mainFrame.setLayout(null);
		mainFrame.setIconImage(rocketIcon.getImage());

		layeredPane.setBounds(0, 0, 500, 500);
		mainFrame.add(layeredPane);
		
		displayBG(layeredPane,layeredPane.getWidth(),layeredPane.getHeight());
		
		mainFrame.addKeyListener(keyboardInputs);
		mainFrame.setFocusable(true);
		mainFrame.requestFocus();	

		
		mainFrame.setVisible(true);
		}
	
	
		
	// ------------------------------------- Display Images Methods -------------------------------------

	public void displayBG(JLayeredPane pane, int width, int height) {
	    if (loginBgIcon.getIconWidth() == -1) {  // Check if image was loaded successfully
	        System.out.println("Error: Background file not found!");
	        return;
	    }
	    loginBackgroundLabel.setBounds(0,0,width,height);
	    pane.add(loginBackgroundLabel, Integer.valueOf(1)); // Add to the background layer

	}
	
	public void displayMainBg() {
	    if (mainBgIcon.getIconWidth() == -1) {  // Check if image was loaded successfully
	        System.out.println("Error: Horizon file not found!");
	        return;
	    }
	    
	    horizonLabel.setBounds(0,0,mainWidth,mainHeight);
	    layeredPane.add(horizonLabel, Integer.valueOf(1)); // Add to the background layer

	}
}
	