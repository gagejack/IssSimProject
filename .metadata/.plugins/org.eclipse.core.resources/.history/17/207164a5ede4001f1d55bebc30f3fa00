package mainPackage;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.Image;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;
import javax.imageio.ImageIO;
import javax.swing.*;

public class GUIControl{
	
	// ------------------------------------- Main Window Stuff -------------------------------------
	
	private int mainWidth = 500;
	private int mainHeight = 500;
	
	private JFrame mainFrame;	
	JLayeredPane layeredPane = new JLayeredPane();

	// ------------------------------------- LOGIN GUI Object -------------------------------------
	
	public GUIControl() {
	
		LoginWindow login = new LoginWindow();
		login.openLoginWindow();
        
        login.initializeCreateUserButton();
        login.initializeLoginButton();
        login.initializeCancelButton();
       
        setupButtonListeners();
	}
	

	// ------------------------------------- Images -------------------------------------
	
	int keyWidth = 50;  // Set desired width for arrow keys
	int keyHeight = 50; // Set desired height for arrow keys

	ImageIcon upArrowIcon = new ImageIcon(
	        new ImageIcon(new File("src/UI/upArrow.png").getAbsolutePath())
	                .getImage().getScaledInstance(keyWidth, keyHeight, Image.SCALE_SMOOTH));
	JLabel upArrowLabel = new JLabel(upArrowIcon);

	ImageIcon downArrowIcon = new ImageIcon(
	        new ImageIcon(new File("src/UI/downArrow.png").getAbsolutePath())
	                .getImage().getScaledInstance(keyWidth, keyHeight, Image.SCALE_SMOOTH));
	JLabel downArrowLabel = new JLabel(downArrowIcon);

	ImageIcon leftArrowIcon = new ImageIcon(
	        new ImageIcon(new File("src/UI/leftArrow.png").getAbsolutePath())
	                .getImage().getScaledInstance(keyWidth, keyHeight, Image.SCALE_SMOOTH));
	JLabel leftArrowLabel = new JLabel(leftArrowIcon);

	ImageIcon rightArrowIcon = new ImageIcon(
	        new ImageIcon(new File("src/UI/rightArrow.png").getAbsolutePath())
	                .getImage().getScaledInstance(keyWidth, keyHeight, Image.SCALE_SMOOTH));
	JLabel rightArrowLabel = new JLabel(rightArrowIcon);

	int loginBgWidth = 400;  // Adjust background width
	int loginBgHeight = 400; // Adjust background height

	ImageIcon mainBgIcon = new ImageIcon(
	        new ImageIcon(new File("src/UI/horizon.png").getAbsolutePath())
	                .getImage().getScaledInstance(mainWidth, mainHeight, Image.SCALE_SMOOTH));
	JLabel horizonLabel = new JLabel(mainBgIcon);

	ImageIcon loginBgIcon = new ImageIcon(
	        new ImageIcon(new File("src/UI/horizon.png").getAbsolutePath())
	                .getImage().getScaledInstance(loginBgWidth, loginBgHeight, Image.SCALE_SMOOTH));
	JLabel loginBackgroundLabel = new JLabel(loginBgIcon);


	
	

	// ------------------------------------- Main Window -------------------------------------

	
	public void openMainWindow() throws IOException {
		mainFrame = new JFrame();
		mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		mainFrame.setSize(mainWidth,mainHeight);
		mainFrame.setLocationRelativeTo(null);
		mainFrame.setLayout(null);
		
		layeredPane.setBounds(0, 0, 500, 500);
		mainFrame.add(layeredPane);
		
		displayMainBg();
		displayArrowKeys();
				
		upKeyListener(layeredPane);
		downKeyListener(layeredPane);
		leftKeyListener(layeredPane);
		rightKeyListener(layeredPane);

		
		mainFrame.setVisible(true);
		}
	
	
		
	// ------------------------------------- Display Images Methods -------------------------------------

	public void displayLoginBackground(JLayeredPane pane, int width, int height) {
	    if (loginBgIcon.getIconWidth() == -1) {  // Check if image was loaded successfully
	        System.out.println("Error: Background file not found!");
	        return;
	    }
	    loginBackgroundLabel.setBounds(0,0,width,height);
	    pane.add(loginBackgroundLabel, Integer.valueOf(1)); // Add to the background layer

	}
	
	public void displayMainBg() {
	    if (mainBgIcon.getIconWidth() == -1) {  // Check if image was loaded successfully
	        System.out.println("Error: Horizon file not found!");
	        return;
	    }
	    horizonLabel.setBounds(0,0,mainWidth,mainHeight);
	    layeredPane.add(horizonLabel, Integer.valueOf(1)); // Add to the background layer

	}
	
	public void displayArrowKeys() {    
		
		upArrowLabel.setBounds(225, 340, 50, 50);    // Top center
		downArrowLabel.setBounds(225, 400, 50, 50);  // Bottom center
		leftArrowLabel.setBounds(downArrowLabel.getX()-60, 400, 50, 50);  // Left center
		rightArrowLabel.setBounds(downArrowLabel.getX()+60, 400, 50, 50); // Right center
	
		// Add labels to the mainFrame
		layeredPane.add(upArrowLabel, Integer.valueOf(2));
	    layeredPane.add(downArrowLabel, Integer.valueOf(2));
	    layeredPane.add(leftArrowLabel, Integer.valueOf(2));
	    layeredPane.add(rightArrowLabel, Integer.valueOf(2));
    
	}
	
	
	public void increaseSizeOnClick(JLabel button) {
		
	}
	
	
	
	// ------------------------------------ KEY LISTENERS --------------------------------------------------
	
	public void upKeyListener(JLayeredPane layeredPane2) {
	    layeredPane2.getInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke("UP"), "moveUp");
	    layeredPane2.getActionMap().put("moveUp", new AbstractAction() {
	        @Override
	        public void actionPerformed(ActionEvent e) {
	            System.out.println("Up arrow key pressed!");
	        }
	    });
	}
	
	public void downKeyListener(JLayeredPane layeredPane2) {
	    layeredPane2.getInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke("DOWN"), "moveDown");
	    layeredPane2.getActionMap().put("moveDown", new AbstractAction() {
	        @Override
	        public void actionPerformed(ActionEvent e) {
	            System.out.println("Down arrow key pressed!");
	        }
	    });
	}
	
	public void rightKeyListener(JLayeredPane layeredPane2) {
	    layeredPane2.getInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke("RIGHT"), "moveRight");
	    layeredPane2.getActionMap().put("moveRight", new AbstractAction() {
	        @Override
	        public void actionPerformed(ActionEvent e) {
	            System.out.println("Right arrow key pressed!");
	        }
	    });
	}
	
	public void leftKeyListener(JLayeredPane layeredPane2) {
	    layeredPane2.getInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke("LEFT"), "moveLeft");
	    layeredPane2.getActionMap().put("moveLeft", new AbstractAction() {
	        @Override
	        public void actionPerformed(ActionEvent e) {
	            System.out.println("Left arrow key pressed!");
	        }
	    });
	}
	
	// ------------------------------------ BUTTON CREATION --------------------------------------------------
	
	
	
	
	// ------------------------------------ LOGIN BUTTON LISTENERS --------------------------------------------------

	
}
